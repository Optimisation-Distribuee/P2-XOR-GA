package be.brw;

import be.brw.domain.XORNetwork;

import java.util.List;

public class Validation {

    public static int computeFitness(String genome) {
        int fitness = 0;

        double[][] inputs = {
                {0, 0},
                {0, 1},
                {1, 0},
                {1, 1}
        };
        double[] expected = {0, 1, 1, 0};

        for (int i = 0; i < 4; i++) {
            double output = XORNetwork.evaluate(genome, inputs[i][0], inputs[i][1]);
            int prediction = output >= 0.5 ? 1 : 0;

            if (prediction == (int) expected[i]) {
                fitness++;
            }
        }

        return fitness;
    }

    public static void main(String[] args) {
        // All solutions that were found by GA
        List<String> genomes = List.of(
                "000110100101010110111110110011110000100110110100111001110100011110101110",
                "111010101110010000010000000010100100101011001011110011000010111010011101",
                "000101100110010111110110100101000001000111010010101101000010111111001011",
                "001100110011011000010000000111101001100111100100001101111001110101111101",
                "001011001111011100101001110100001111101101001101101110011100010100101111",
                "001010010000001011001000110000000100100011111001110111010001011111010001",
                "100100110000000001100100110100111011110001000011110011001001000100111000",
                "110111000011001000000100111001110110100001011110101111011011000101100000",
                "110001001101001110101011101001110101100001110010001100011110100101011101",
                "000010110100010011100110111000100010100011111001110111010001001011101001",
                "000011000100110011101000110100100010010110110000101111010010110010101101",
                "001111000001101111100110100110110011011111100011111000000010000110110011",
                "000001001110000100101100110010001110001101110011101100001110100100001101",
                "111101011110101011010000110101100011010000010001110101100011000001101110",
                "001010000001111001000100010011011111010001110000111110010000110000100110",
                "000101111011100100001011110000011101100000010111001100000100010110100111",
                "010010110010110110111101110110110110100010100110110110010000100010110000",
                "010010100011110111011100110101010010111110011111111011010010011110101101",
                "000000001100110011001110010101010100100001010100111000111011110001100001",
                "010010110100111010111000111011100100011110101000111100010001001010111000",
                "111000111100101110101100101010100111001001000100111000110001111101100001",
                "110101001101101110101110110000010000010101100011001100011100101101010010",
                "111000001100001111100100111000100111011000110100111110100011000101000110",
                "000110010011110111001010110010000101100110100111110110110010001110101111",
                "010100101101000101010101101010011101110010000110110010111011110100010001",
                "010101010110010011100001101011011001011101011001010011001110011010001001",
                "000000011110001100110010110100101111101101011111101011111101000100101100",
                "111110010011000010111010000001010000100010100000010101100010101010100011",
                "000010010100111100100110010110011010000110111010001111011110010001010110",
                "111111000000100011110100000010100010101110001011010010100010011010101110",
                "110000001111111000110100001111000011111011011101110100100011010010111101",
                "100011101111100010001100111001000101010101101000000101011101101001001010",
                "101001111111111010101100110010101000000101110110001110011110010101011110"
        );

        for(String genome : genomes){
            int fitness = computeFitness(genome);
            System.out.printf("Genome %s fitness: %d / 4\n", genome, fitness);
        }
    }
}
